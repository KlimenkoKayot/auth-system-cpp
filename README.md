# Система регистрации пользователей
#### C++, Drogon framework, Docker

Система написана на C++20, используется фреймворк [drogon](https://github.com/drogonframework/drogon/)

База данных PostgreSQL в docker контейнере, код закомментирован,<br>
ниже можно увидеть пояснения к обработчикам и схемы авторизации/регистрации.

***

[http://127.0.0.1:8080](http://127.0.0.1:8080) 

Страница с гиперссылками на основную страницу, страницу с регистрацией и входом.

`Доступ для всех пользователей`

***

[http://127.0.0.1:8080/openspace](http://127.0.0.1:8080/openspace)

Основная страница, вход только для авторизированных пользователей.

`Доступ только для авторизованных пользователей`

***

[http://127.0.0.1:8080/guest/signin](http://127.0.0.1:8080/guest/signin)

Страница входа на сайт.

`Доступ только для неавторизованных пользователей`

***

[http://127.0.0.1:8080/guest/signup](http://127.0.0.1:8080/guest/signup)

Страница регистрации новых пользователей.

`Доступ только для неавторизованных пользователей`

***

Схема регистрации:
1) Получение запроса от пользователя с логином, почтой и паролем
2) Проверка существования логина в базе данных (если существует, то уведомляем пользователя)
3) Валидация пароля (если пароль плохой, то уведомляем пользователя)
4) Хеширования логина и пароля алгоритмом SHA256
5) Добавляем нового польователя в базу данных
6) Открываем сессию для пользователя
7) Редирект на основную страницу [http://127.0.0.1:8080/openspace](http://127.0.0.1:8080/openspace)

***

Схема входа:
1) Получение запроса от пользователя с логином, почтой и паролем
2) Получение SHA256 от логина и пароля
3) Поиск хеша в базе данных (если хеш не найдем, уведомляем пользователя)
4) Открываем сессию для пользователя
5) Редирект на основную страницу [http://127.0.0.1:8080/openspace](http://127.0.0.1:8080/openspace)
   
